using System.Diagnostics.CodeAnalysis;

namespace MetaApp.MetaAppFunctionalTests;

[ExcludeFromCodeCoverage]
public class MetaAppTests
{
    // TODO: implement
    [Fact]
    public async Task GivenApplication_WhenStartFetchingWeatherData_ThenShouldFetchAndDisplayWeatherData()
    {
        //var consoleOutput = new StringWriter();
        //Console.SetOut(consoleOutput);
        //var args = new string[3] { "weather", "--city", "Vilnius,Riga" };
        //var cancellationTokenSource = new CancellationTokenSource();
        //var cancellationTask = Task.Run(() =>
        //{
        //    Thread.Sleep(TimeSpan.FromSeconds(5)); // Adjust the delay as needed
        //    cancellationTokenSource.Cancel();
        //});

        //// Act
        //// Run your console application
        //Program.Main(args, cancellationTokenSource.Token);

        //Thread.Sleep(10000);

        //cancellationTokenSource.Cancel();

        //// Assert
        //var expectedOutput = "Expected console output"; // Provide the expected console output here
        //var actualOutput = consoleOutput.ToString().Trim();

        //Assert.Equal(expectedOutput, actualOutput);
    }
}